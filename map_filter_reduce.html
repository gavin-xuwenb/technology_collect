<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			
			var name = "xuwenb";
			/**
			 * map() 返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。
			 * 
			 * 语法：可以接受2个参数
			 * 		array.map(function(currentValue,index,arr), thisValue)
			 * 
			 * 注意：map() 不会改变原始数组。
			 * 传入的函数: 必须有返回值，不然新数组都是undefined
			 * 
			 * thisValue：可选。对象作为该执行回调时使用，传递给函数，用作 "this" 的值。
				如果省略了 thisValue，或者传入 null、undefined，那么回调函数的 this 为全局对象。
				
				等效于 apply，和call 的this传参
				
				将map的第一个参数（函数）里面的this 指向 thisValue对象
			 */
			let arr1 = [{name:"jack",age:12},{name:"tom",age:13},{name:"april",age:14}]
			
			let newArr = arr1.map(item=>{
				return item.name;
			})
			console.log(arr1)
			arr1[0].name = "aaa";
			console.log(newArr);
			
			
			//返回一个数组，数组中元素为原始数组的平方根:
			
			var numbers = [1,2,3];
			var ret = numbers.map(Math.sqrt);
			console.log(ret);
			
			function add(x,index,arr){
				console.log("index="+index);
				console.log("arr="+arr);
				console.log("this="+this.name)
				console.log("window.name="+window.name)
				return ++x;
			}
			
			var ret2 = numbers.map(add,arr1);
			console.log(ret2);
			
			
			/**
			 * *****************************************reduce*****************
			 * 语法：
			 * array.reduce(function(total, currentValue, currentIndex, arr), initialValue)
			 * 
			 * initialValue:可选，初始值。不传值默认为0
			 * */
			 
			 var numbers2 = [15.5, 2.3, 1.1, 4.7];
			  
			 function getSum(total, num) {
			     return total + Math.round(num);
			 }
			 
			 var sumRet = numbers2.reduce(getSum, 1);
			 console.log(sumRet);
			 
			 
			 
			 
		</script>
	</head>
	<body>
		<div id="demo"></div>
	</body>
</html>
